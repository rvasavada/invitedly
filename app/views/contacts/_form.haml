= form_for [@occasion,@contact], :html => {:role =>"form"} do |f|
  %fieldset
    %legend
      Contact details
    .row
      .columns.medium-3
        = f.label :title, "Title"
        = f.collection_select(:title,	@title, :name, :name, {:include_blank => true})
      .columns.medium-4
        = f.label :first_name, "First Name <font color='red'>*</font>".html_safe
        = f.text_field :first_name, :autofocus => true,:maxlength => 50
      .columns.medium-5
        = f.label :last_name, "Last Name <font color='red'>*</font>".html_safe
        = f.text_field :last_name, :autofocus => true,:maxlength => 50
    .row
      .columns.medium-3
        = f.label :spouse_title, "Spouse Title"
        = f.collection_select(:spouse_title,	@title, :name, :name, {:include_blank => true})
      .columns.medium-4
        = f.label :spouse_first_name, "Spouse First Name <font color='red'>*</font>".html_safe
        = f.text_field :spouse_first_name, :autofocus => true,:maxlength => 50
      .columns.medium-5
        = f.label :spouse_last_name, "Spouse Last Name <font color='red'>*</font>".html_safe
        = f.text_field :spouse_last_name, :autofocus => true,:maxlength => 50
    .row
      .columns.medium-3
        = f.label :max_guests, "Total guests", :class => "control-label"
        = f.select :max_guests, options_for_select((1..20).to_a, {:selected => current_user.max_guests}), {}, class: "form-control"

  %fieldset
    %legend Contact information

    = f.label :email, "Preferred Email"
    = f.email_field :email, :type => "email"
  
    .row
      .columns.medium-7
        .form-group
          = f.label :address_1, "Address 1"
          = f.text_field :address_1, :maxlength => 100
      .columns.medium-5
        .form-group
          = f.label :address_2, "Address 2"
          = f.text_field :address_2, :maxlength => 100
    .row
      .columns.medium-5
        = f.label :city, "City"
        = f.text_field :city, :maxlength => 100
      .columns.medium-4.domestic
        = f.label :state, "State"
        = f.collection_select(:state,	@state, :name, :name,{})
      .domestic.columns.medium-3
        = f.label :zip, "Zip"
        = f.text_field :zip, :maxlength => 5
      .international.columns.medium-4
        = f.label :region, "Region"
        = f.text_field :region, :maxlength => 100
      .international.columns.medium-3
        = f.label :postal_code, "Postal Code"
        = f.text_field :postal_code, :maxlength => 20

    = f.label :country, "Country"
    = f.collection_select(:country,	@country, :name, :name, {:selected => current_user.country.blank? ? "United States" : current_user.country}, :id => "countrySelect")
  
    .row
      .columns.medium-6
        = f.label :home_phone, "Home Phone"
        = f.telephone_field :home_phone, :type => "tel"
      .columns.medium-6
        = f.label :cell_phone, "Cell Phone"
        = f.telephone_field :cell_phone, :type => "tel"

  %fieldset
    %legend Notes

    = f.label :notes, "Notes", :class => "control-label"
    = f.text_area :notes, {:rows => 5, :maxlength => 500, placeholder: "These notes are private and visible only to you."}

  = f.submit "Save", :class => "button"
  = link_to 'Cancel', address_book_path, :class=> "secondary button"
  %p.text-center or
  = f.submit "Save & Add another contact", :class => "button", style: "width:100%;"
